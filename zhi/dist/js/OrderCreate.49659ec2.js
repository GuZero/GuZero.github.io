webpackJsonp([1],{109:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"create-order"},[n("HeaderBar",{attrs:{title:e.pageTitle}}),n("div",{staticClass:"mt44 pb60",staticStyle:{"margin-top":"52px"}},[n("Field",{attrs:{tag:"工单类型",placeholder:"请选择（必选）",optionJsonConfig:{valuename:"id",textname:"name",idname:"id"},options:e.ordertypes,selectText:e.ordertype,select:!0,arrow:!0},on:{input:e.getID},model:{value:e.ordertype,callback:function(t){e.ordertype=t},expression:"ordertype"}}),n("Field",{attrs:{tag:"终端名称",placeholder:"请输入终端名称（必填）",input:!0,readonly:"readonly",autocomplete:"new-password"},on:{changeCallback:e.goInfo},model:{value:e.terminalName,callback:function(t){e.terminalName=t},expression:"terminalName"}}),n("Field",{attrs:{tag:"现场现象",placeholder:"请选择（必选）",optionJsonConfig:{valuename:"id",textname:"name",idname:"id"},options:e.scenes,selectText:e.scene,select:!0,arrow:!0},on:{input:e.getValue,changeCallback:e.testChange},model:{value:e.scene,callback:function(t){e.scene=t},expression:"scene"}}),n("Field",{attrs:{tag:"故障等级",pvalue:e.fault,p:!0}}),n("Field",{attrs:{tag:"超时设置",placeholder:"请选择超时间",input:!0,type:"datetime-local"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}}),n("Field",{attrs:{tag:"问题描述",placeholder:"请输入问题描述",textarea:!0,autocomplete:"new-password"},model:{value:e.desc,callback:function(t){e.desc="string"==typeof t?t.trim():t},expression:"desc"}})],1),n("SubmitBtn",{attrs:{text:"提交",theme:"white"},on:{submitCallback:e.submitFun}})],1)},staticRenderFns:[]},e.exports.render._withStripped=!0},127:function(e,t,n){var o=n(90);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(4)("31bdc1a9",o,!1)},38:function(e,t,n){n(127);var o=n(1)(n(81),n(109),"data-v-2a68d2b9",null);o.options.__file="D:\\moge\\zhichengxitong\\src\\pages\\OrderCreate.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] OrderCreate.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},54:function(e,t,n){"use strict";t.default={props:["theme","text"]}},55:function(e,t,n){t=e.exports=n(3)(),t.push([e.i,"\n.submits[data-v-530e9782] {\n  border-top: 1px #cfcfcf solid;\n  background-color: #f9f9f9;\n  color: #323232;\n  display: block;\n  width: 100%;\n  height: 51px;\n  line-height: 51px;\n  color: #333;\n  font-size: 16px;\n  left: 0;\n  bottom: 0;\n  z-index: 9000;\n}\n.submits.white[data-v-530e9782] {\n    background-color: #fff;\n    color: #07689f;\n}\n.submits[data-v-530e9782]:active {\n    background-color: #eee;\n}\n",""])},56:function(e,t,n){n(58);var o=n(1)(n(54),n(57),"data-v-530e9782",null);o.options.__file="D:\\moge\\zhichengxitong\\src\\components\\elements\\SubmitBtn.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] SubmitBtn.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},57:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"submits center fixed",class:e.theme,on:{click:function(t){e.$emit("submitCallback")}}},[e._v(e._s(e.text))])},staticRenderFns:[]},e.exports.render._withStripped=!0},58:function(e,t,n){var o=n(55);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(4)("4f4b56a4",o,!1)},60:function(e,t,n){"use strict";t.default={props:["tag","value","type","placeholder","maxlength","readonly","autocomplete","input","textarea","p","pvalue","arrow","select","selectText","options","optionJsonConfig"],methods:{setParentVar:function(e){this.$emit("input",e.toString().trim())},getOptionKey:function(e,t,n){for(var o=null,a=0,i=n.length;a<i;a++)if(n[a][t.idname]==e){o=n[a][t.textname];break}return o||e.toString().trim()?o||e:this.placeholder||"请选择（必选）"}}}},61:function(e,t,n){t=e.exports=n(3)(),t.push([e.i,"\n.filed[data-v-4c0b8495] {\n  background-color: #fff;\n  min-height: 54px;\n  box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  margin-top: 8px;\n}\n.filed.textarea[data-v-4c0b8495] {\n    height: 116px;\n}\n.filed.textarea .box[data-v-4c0b8495] {\n      height: 116px;\n}\n.filed .text[data-v-4c0b8495] {\n    left: 0;\n    top: 0;\n    width: 88px;\n    padding: 16px 0;\n}\n.filed .box[data-v-4c0b8495] {\n    margin-left: 88px;\n    min-height: 54px;\n}\n.filed .box input[data-v-4c0b8495] {\n      height: 30px;\n      line-height: 30px;\n      width: 99%;\n      border: none;\n      position: relative;\n      top: 13px;\n      left: 0;\n      font-size: 13px;\n}\n.filed .box textarea[data-v-4c0b8495] {\n      height: 87px;\n      width: 99%;\n      position: relative;\n      top: 20px;\n      border: none;\n      resize: none;\n      color: #323232;\n      font-size: 13px;\n}\n.filed .box p[data-v-4c0b8495] {\n      margin: 0;\n      min-height: 30px;\n      line-height: 22px;\n      font-size: 13px;\n      text-align: right;\n      padding: 0 16px 22px 0;\n      top: 17px;\n      left: 0;\n}\n.filed .select[data-v-4c0b8495] {\n    height: 54px;\n}\n.filed .select label[data-v-4c0b8495] {\n      display: inline-block;\n      height: 54px;\n      line-height: 54px;\n      top: 0;\n      right: 0;\n      color: #323232;\n      font-size: 13px;\n      width: 100%;\n      text-align: right;\n      padding-right: 38px;\n      z-index: 300;\n}\n.filed .select select[data-v-4c0b8495] {\n      top: 0;\n      right: 0;\n      width: 100%;\n      height: 54px;\n      background: none;\n      color: transparent;\n      border: none;\n      outline: none;\n      appearance: none;\n      -moz-appearance: none;\n      -webkit-appearance: none;\n      z-index: 301;\n}\n.filed .select select option[data-v-4c0b8495] {\n        color: #333;\n}\n.filed .select.arrow[data-v-4c0b8495]:after {\n      content: '';\n      background: url(//img.aimoge.com/Fn0wLikUitDAUkJTBe8EQYMgKxnD) 0 0 no-repeat;\n      background-size: 100% auto;\n      display: block;\n      height: 28px;\n      width: 28px;\n      position: absolute;\n      right: 15px;\n      top: 50%;\n      margin-top: -14px;\n}\n",""])},64:function(e,t,n){n(67);var o=n(1)(n(60),n(65),"data-v-4c0b8495",null);o.options.__file="D:\\moge\\zhichengxitong\\src\\components\\elements\\Field.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__esModule"!==e})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] Field.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},65:function(e,t,n){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"filed rel",class:{textarea:e.textarea},on:{input:function(t){e.setParentVar(t.target.value)}}},[n("div",{staticClass:"text abs center"},[e._v(e._s(e.tag))]),n("div",{staticClass:"box rel"},[e.p?n("p",{staticClass:"rel"},[e._v(e._s(e.pvalue))]):e._e(),e.input?n("input",{attrs:{type:e.type||"text",placeholder:e.placeholder,maxlength:e.maxlength,readonly:e.readonly,autocomplete:e.autocomplete},domProps:{value:e.value},on:{focus:function(t){e.$emit("changeCallback")}}}):e._e(),e.textarea?n("textarea",{attrs:{placeholder:e.placeholder,autocomplete:e.autocomplete,maxlength:e.maxlength},on:{focus:function(t){e.$emit("changeCallback")}}}):e._e(),e.select?n("div",{staticClass:"select rel",class:{arrow:e.arrow}},[n("label",{staticClass:"abs ellipsis"},[e._v(e._s(e.getOptionKey(e.selectText,e.optionJsonConfig,e.options)))]),n("select",{staticClass:"abs",on:{change:function(t){e.$emit("changeCallback")}}},[n("option",[e._v("请选择（必选）")]),e._l(e.options,function(t){return n("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)]):e._e()])])},staticRenderFns:[]},e.exports.render._withStripped=!0},67:function(e,t,n){var o=n(61);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(4)("6004a80a",o,!1)},81:function(e,t,n){"use strict";(function(e,o){var a=n(7),i=n.n(a),r=n(64),s=n.n(r),l=n(56),c=n.n(l);t.default={mixins:[n(6)],data:function(){return{bodyBg:"dark",pageTitle:"创建/修改工单",ordertype:"",ordertypes:[],terminalName:"",scene:"",scenes:[],fault:"（系统根据现场现象自动选择）",desc:"",val:"",project_id:"",state:"",flag:!1,date:"",input:!0}},components:{HeaderBar:i.a,Field:s.a,SubmitBtn:c.a},created:function(){window.canGoBack=!0,window.origin=null,localStorage.terminal_name?this.terminalName="":(window.localStorage.setItem("terminal_name",""),window.localStorage.setItem("terminal_code","")),this.getInfo()},activated:function(){window.canGoBack=!0,window.origin=null},watch:{$route:function(){"/order/edit"==this.$route.path&&(this.ordertypes=[],this.scene="请选择（必选）",this.scenes=[],this.fault="",this.date="",this.getInfo(),localStorage.terminal_name="")}},methods:{submitFun:function(){if(this.ordertype.indexOf("选择")>-1)return e.showErrorTip("请选择工单类型！"),!1;if(!this.terminalName)return e.showErrorTip("请输入终端名称！"),!1;if(this.scene.indexOf("选择")>-1)return e.showErrorTip("请选择现场现象！"),!1;if(!this.desc)return e.showErrorTip("请输入问题描述！"),!1;if(!this.date)return e.showErrorTip("请输入超时时间！"),!1;var t=this.project_id,n=localStorage.terminal_code,a=this.val,i=this.setDate(this.date),r=this.state,s=this.desc,l=this;axios.post(o.task,{project_id:t,terminal_code:n,appearance:a,timeout:i,state:r,content:s},{withCredentials:!0,headers:{"Content-Type":"application/json"}}).then(function(t){e.hideSysLoading(),0==t.data.status?(e.showErrorTip(t.data.msg),l.url("/")):e.showErrorTip(t.data.msg)}).catch(function(t){e.hideSysLoading(),e.showErrorTip("您的网络可能出了点问题:(")})},testChange:function(){for(var e=0;e<this.scenes.length;e++)for(var t in this.scenes[e])if("id"==t&&this.scenes[e].id==this.val)switch(this.state=this.scenes[e].level,this.state){case 1:this.fault="一级故障";break;case 2:this.fault="二级故障";break;case 3:this.fault="三级故障";break;default:this.fault="一级故障"}},getID:function(e){this.project_id=e},getValue:function(e){this.val=e},goInfo:function(){this.url("/searchterminal")},setName:function(){},setDate:function(t){var n=t,o=n.substring(0,4),a=n.substring(5,7),i=n.substring(8,10),r=n.substring(11,13),s=n.substring(14),l=o+"-"+i+"-"+a+" "+r+":"+s;return e.isIOS()&&(l=l.substring(0,16)),l},getInfo:function(){this.ordertypes=[{id:"1",name:"柜子运维"}],this.terminalName=localStorage.terminal_name;var t=this;e.showSysLoading(),getAjaxRequest("order_cache",o.option,t.version,2e4,18e5,function(n){e.hideSysLoading(),0==n.status?t.scenes=n.data.appearance:n.msg&&e.showErrorTip(n.msg)},function(t){e.hideSysLoading(),e.showErrorTip("您的网络可能出了点问题:(")})}}}}).call(t,n(0),n(2))},90:function(e,t,n){t=e.exports=n(3)(),t.push([e.i,'\n.filed[data-v-2a68d2b9] {\n  background-color: #fff;\n  min-height: 54px;\n  box-sizing: border-box;\n  -webkit-box-sizing: border-box;\n  margin-top: 8px;\n}\n.filed .text[data-v-2a68d2b9] {\n    left: 0;\n    top: 0;\n    width: 88px;\n    padding: 16px 0;\n}\n.filed .box[data-v-2a68d2b9] {\n    margin-left: 88px;\n    min-height: 54px;\n}\n.input[data-v-2a68d2b9] {\n  font-size: 16px;\n  readonly: "readonly";\n}\n',""])}});